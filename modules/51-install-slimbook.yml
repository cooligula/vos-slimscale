name: install-slimbook
type: shell
commands:
  - echo ">>> Setting up Slimbook Suite (Official Debian Repos)..."
  
  # 1. Install prerequisites (wget is needed to fetch the keys)
  - apt-get update
  - apt-get install -y wget ca-certificates

  # 2. Add the GPG Key
  # We place this in trusted.gpg.d as per the official Slimbook instruction
  - wget -O /etc/apt/trusted.gpg.d/slimbook.gpg https://raw.githubusercontent.com/Slimbook-Team/slimbook-base-files/main/keys/slimbook.gpg

  # 3. Add the Source List
  # This file points apt to the correct Slimbook repository
  - wget -O /etc/apt/sources.list.d/slimbook.list https://raw.githubusercontent.com/Slimbook-Team/slimbook-base-files/main/sources/slimbook.list

  # 4. Install the Suite
  # Since we are using the official repo, dependencies like libdlib should resolve naturally
  - apt-get update
  - apt-get install -y slimbook-meta-common slimbook-meta-evo slimbookbattery slimbook